:root {
    --primary-blue: #0a2463; --secondary-blue: #1e5095; --primary-red: #d90429;
    --text-light: #ffffff; --card-bg: #1a3a7a; --border-color: #3b5a9d; --gold-star: #FFD700;
    --field-green: #008000; --field-line: #FFF; --gk-color: #E8C135; --custom-purple: #6f42c1;
}
html { scroll-behavior: smooth; }
body { background-color: var(--primary-blue); color: var(--text-light); padding-top: 56px; }
.bg-dark-blue { background-color: #051438 !important; border-bottom: 2px solid var(--primary-red); }
.main-title { color: var(--text-light); border-left: 4px solid var(--primary-red); padding-left: 1rem; }
* âœ… FIX: Aggiungi padding-top all'alerts-container per far spazio all'header */
#alerts-container {
    padding-top: 60px;
}

/* âœ… FIX: Assicura che gli alert abbiano z-index inferiore all'header */
#alerts-container .alert {
    position: relative;
    z-index: 1040;
}
.athlete-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; transition: all 0.3s ease; position: relative; overflow: hidden; }
.athlete-card-clickable { cursor: pointer; }
.athlete-card-clickable:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(217, 4, 41, 0.2); border-color: var(--primary-red); }
.athlete-avatar { width: 70px; height: 70px; border-radius: 50%; border: 3px solid var(--border-color); object-fit: cover; background-color: var(--secondary-blue); }
.athlete-card .card-title { font-size: 1.1rem; margin-bottom: 0.1rem; }
.shirt-number { font-size: 1.5rem; font-weight: bold; color: var(--text-light); background-color: var(--primary-red); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; position: absolute; top: 50%; right: 15px; transform: translateY(-50%); }
.is-captain { color: var(--gold-star); }
.card-actions { position: absolute; bottom: 10px; right: 10px; z-index: 5; display: flex; gap: 5px; }
.card-actions .btn { background: rgba(0,0,0,0.3); border: none; }
.chart-card, .table-card, .summary-card { background-color: var(--card-bg); border: 1px solid var(--border-color); }
.modal-content { background-color: var(--primary-blue); border: 1px solid var(--primary-red); }
.modal-header, .modal-footer { border-bottom: 1px solid var(--border-color); border-top: 1px solid var(--border-color); }
.btn-primary-custom { background-color: var(--primary-red); border-color: var(--primary-red); color: white; }
.btn-primary-custom:hover { background-color: #b80323; border-color: #b80323; }
.form-control, .form-select { background-color: var(--secondary-blue); color: var(--text-light); border-color: var(--border-color); }
.form-control::placeholder { color: #8a9fc1; }
.form-control:focus, .form-select:focus { background-color: var(--secondary-blue); color: var(--text-light); border-color: var(--primary-red); box-shadow: 0 0 0 0.25rem rgba(217, 4, 41, 0.25); }
.award-card { background: linear-gradient(45deg, var(--gold-star), #d4af37); color: #000; border: 2px solid #fff; width: 180px; }
.award-avatar { width: 50px; height: 50px; }
.text-muted { color: rgba(255, 255, 255, 0.75) !important; }
.summary-card .card-body { min-height: 150px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;}
.summary-card .display-4 { font-weight: 500; }
.calendar-card { background-color: var(--card-bg); border: 1px solid var(--border-color); }
.calendar-header { display: flex; justify-content: space-between; align-items: center; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
.calendar-day { background-color: var(--secondary-blue); border: 1px solid var(--border-color); min-height: 120px; padding: 8px; font-size: 0.9rem; }
.calendar-day.today { border-color: var(--primary-red); }
.calendar-day-header { font-weight: bold; }
/* Nuove classi per sessioni */
.calendar-session {
    padding: 4px;
    border-radius: 4px;
    font-size: 0.75rem;
    margin-top: 5px;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.session-allenamento { background-color: var(--primary-red); color: white; }
.session-partita-casa { background-color: var(--primary-blue); color: white; }
.session-partita-trasferta { background-color: var(--primary-red); color: white; }
.session-partita-futura { background-color: #006400; color: white; } /* Verde scuro */
.deadline-status { font-size: 1.2rem; position: absolute; top: 50%; right: 70px; transform: translateY(-50%); }
.text-purple { color: var(--custom-purple) !important; }
.available-player.disabled { opacity: 0.5; cursor: not-allowed; background-color: #343a40 !important; }
.dragging { opacity: 0.5; z-index: 1056; pointer-events: none; }
.field-line, .field-box, .field-circle, .field-spot { position: absolute; box-sizing: border-box; border-color: var(--field-line); }
.halfway-line { border-top: 2px solid var(--field-line); width: 100%; top: 50%; }
.center-circle { top: 50%; left: 50%; transform: translate(-50%, -50%); width: 25%; aspect-ratio: 1/1; border: 2px solid var(--field-line); border-radius: 50%; }
.center-spot { top: 50%; left: 50%; transform: translate(-50%, -50%); width: 2%; aspect-ratio: 1/1; background-color: var(--field-line); border-radius: 50%; }
.penalty-box-top { top: 0; left: 50%; transform: translateX(-50%); width: 60%; height: 16.5%; border: 2px solid var(--field-line); border-top: none; }
.penalty-box-bottom { bottom: 0; left: 50%; transform: translateX(-50%); width: 60%; height: 16.5%; border: 2px solid var(--field-line); border-bottom: none; }
.goal-box-top { top: 0; left: 50%; transform: translateX(-50%); width: 30%; height: 6%; border: 2px solid var(--field-line); border-top: none; }
.goal-box-bottom { bottom: 0; left: 50%; transform: translateX(-50%); width: 30%; height: 6%; border: 2px solid var(--field-line); border-bottom: none; }
.penalty-spot-top { top: 11.5%; left: 50%; transform: translateX(-50%); width: 1.5%; aspect-ratio: 1/1; background-color: var(--field-line); border-radius: 50%; }
.penalty-spot-bottom { bottom: 11.5%; left: 50%; transform: translateX(-50%); width: 1.5%; aspect-ratio: 1/1; background-color: var(--field-line); border-radius: 50%; }
.jersey-body { position: relative; width: 5em; height: 5em; background-color: var(--secondary-blue); border-radius: 0.8em 0.8em 0.5em 0.5em; display: flex; align-items: center; justify-content: center; box-shadow: inset 0 -4px 8px rgba(0,0,0,0.3); }
.jersey-body::before, .jersey-body::after { content: ''; position: absolute; width: 2.5em; height: 1em; background-color: inherit; top: 0; }
.jersey-body::before { left: -1.8em; transform: rotate(-40deg); border-radius: 0.5em 0.2em 0 0; }
.jersey-body::after { right: -1.8em; transform: rotate(40deg); border-radius: 0.2em 0.5em 0 0; }
.jersey-number { font-size: 2.2em; font-weight: bold; color: white; text-shadow: 1px 1px 2px black; }
.player-name { margin-top: 0.5em; font-size: 1.33em; font-weight: bold; color: white; background-color: rgba(0,0,0,0.6); padding: 0.1em 0.4em; border-radius: 4px; white-space: nowrap; }
#available-list .list-group-item, .tool-item { cursor: grab; background-color: var(--secondary-blue); }
.available-slot { border: 1px dashed var(--border-color); border-radius: 8px; min-height: 50px; }
#formation-tools { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 1rem; }
.tool-item { border: 1px solid var(--border-color); border-radius: 8px; padding: 5px 10px; text-align: center; }
.tool-item.opponent-tool { background-color: var(--primary-red); font-size: 1.5rem; line-height: 1; padding: 5px 12px; }
.tool-item.ball-tool { font-size: 1.5rem; line-height: 1; padding: 5px 10px; }
.token-captain { font-weight: bold; color: white; background: black; padding: 0.2em 0.5em; border-radius: 4px; font-size: clamp(8px, 1vw, 12px); }
.token-ball { font-size: 2rem; }
.token-opponent { width: 2.5em; height: 2.5em; background-color: var(--primary-red); border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.5); font-size: clamp(8px, 1vw, 12px); }
.match-result-item { background-color: var(--card-bg); border: 1px solid var(--border-color); }
.match-score { font-weight: bold; font-size: 1.1rem; }
.yellow-card { width: 10px; height: 14px; background-color: #ffc107; display: inline-block; border-radius: 2px; }
.red-card { width: 10px; height: 14px; background-color: #dc3545; display: inline-block; border-radius: 2px; }
.scorers-list { font-size: 0.8rem; color: var(--text-muted); }
.assists-list { font-size: 0.8rem; color: var(--text-muted); }
/* Stile per partite future nel box Risultati Partite */
.match-future { border-left: 4px solid #006400 !important; }
.match-home { border-left: 4px solid var(--primary-blue) !important; }
.match-away { border-left: 4px solid var(--primary-red) !important; }

/* âœ… NUOVO: stile per atleti ospiti */
.guest-athlete {
    border-color: var(--session-partita-futura) !important;
    box-shadow: 0 0 0 2px var(--session-partita-futura);
}
.guest-athlete .card-title::after {
    content: " ðŸ‘¤";
    color: var(--session-partita-futura);
}

#cards-summary-table { --bs-table-bg: var(--secondary-blue); --bs-table-striped-bg: var(--secondary-blue); --bs-table-hover-bg: var(--border-color); border-color: var(--border-color); }
.season-stats-card { background-color: var(--card-bg); border: 1px solid var(--border-color); }
.season-stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 1rem; text-align: center;}
.stat-item h6 { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.2rem;}
.stat-item p { font-size: 1.4rem; font-weight: 500; margin-bottom: 0;}
.stat-item .diff-pos { color: #28a745; }
.stat-item .diff-neg { color: var(--primary-red); }
@media print {
    body { padding-top: 0; }
    .no-print { display: none !important; }
    body * { visibility: hidden; }
    .printing-now, .printing-now * { visibility: visible; }
    .printing-now { position: absolute; left: 0; top: 0; width: 100%; }
    .printing-now #athlete-grid { display: flex !important; flex-wrap: wrap !important; }
    .printing-now #athlete-grid > [class*="col-"] { flex: 0 0 25% !important; max-width: 25% !important; padding: 5px !important; page-break-inside: avoid; }
    .printing-now .athlete-card { box-shadow: none !important; }
    .printing-now .card, .printing-now .list-group-item, .printing-now .calendar-day, .printing-now .table { background-color: #fff !important; border: 1px solid #ccc !important; -webkit-print-color-adjust: exact; color-adjust: exact; }
    .printing-now table, .printing-now th, .printing-now td { background-color: #fff !important; color: #000 !important; border-color: #000 !important; }
    .printing-now .calendar-session, .printing-now .shirt-number { background-color: #cccccc !important; color: #000 !important; -webkit-print-color-adjust: exact; color-adjust: exact; }
    .printing-now *, .printing-now .main-title, .printing-now .text-muted, .printing-now .card-title, .printing-now p, .printing-now h1, .printing-now h2, .printing-now h3, .printing-now h4, .printing-now h5, .printing-now h6 { color: #000 !important; }
    .printing-now .player-name, .printing-now .jersey-number, .printing-now .token-captain { color: #fff !important; }
    .printing-now .main-title { border-left-color: #000 !important; }
    .printing-now canvas { max-width: 100% !important; height: auto !important; }
    .printing-now #field-container { background-color: var(--field-green) !important; -webkit-print-color-adjust: exact; color-adjust: exact; }
    .printing-now #field-container .field-line, .printing-now #field-container .field-box, .printing-now #field-container .field-circle { border-color: var(--field-line) !important; }
    .printing-now #field-container .field-spot { background-color: var(--field-line) !important; }
    .printing-now .jersey-body, .printing-now .player-name, .printing-now .token-captain { -webkit-print-color-adjust: exact; color-adjust: exact; }
    .printing-now .player-jersey[data-role*="Portiere"] .jersey-body { background-color: var(--gk-color) !important; }
}

/* Riduzione altezza grafico presenze per migliore visualizzazione */
#attendanceChart {
    max-height: 400px;
}

/* Riduzione altezza grafico confronto performance squadra per migliore visualizzazione */
#multiAthleteChart {
    max-height: 350px;
}

/* Altezza grafico presenze settimanali */
#weeklyAttendanceChart {
    max-height: 400px;
}
/* ============================================
   TRASFORMAZIONE MODULO FORMAZIONE - VERSIONE FINALE COMPLETA
   - Rotazione 90Â° senso orario
   - Campo allungato solo in X (height aumentata)
   - Panchina stretta e lunga come il campo
   - Calendario ABBASSATO (non alzato)
   - Pannello laterale visibile
   - Drag & drop CORRETTO
   ============================================ */

/* Modifiche al contenitore wrapper */
#pitch-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 0;
    min-height: auto;
    margin: 0 auto;
    flex-wrap: nowrap;
    max-width: 100%;
    padding: 0;
}

/* SEZIONE FORMAZIONE - ALZATA */
#formazione-section {
    min-height: auto;
    overflow: visible;
    padding: 0;
    margin-bottom: 0;
    margin-top: -25px;
}

/* TITOLO "MODULO FORMAZIONE" - ALZATO */
#formazione-section > .row:first-child {
    margin-top: -25px;
    margin-bottom: 5px;
}

#formazione-section .row {
    margin-bottom: 0.2rem;
}

/* CAMPO DA CALCIO - Ruotato 90Â° e allungato */
#field-container {
    background-color: var(--field-green);
    border: 2px solid var(--field-line);
    position: relative;
    
    /* Dimensioni base - SOLO height aumentata per allungare */
    width: 420px;
    height: 700px;
    max-width: none;
    aspect-ratio: unset;
    
    /* Trasformazione: rotazione + scala 1.7 */
    transform: rotate(90deg) scale(1.7);
    transform-origin: center center;
    
    /* Margini alzati */
    margin: 10px auto -110px;
    
    box-sizing: border-box;
    flex-shrink: 0;
    pointer-events: auto;
}

/* PANCHINA - Ruotata 90Â°, stretta e lunga come il campo */
#field-bench-area {
    background-color: rgba(0,0,0,0.2);
    border: 2px dashed var(--border-color);
    border-radius: 8px;
    
    /* Dimensioni base - stretta e lunga */
    width: 140px;
    height: 700px;
    
    /* Trasformazione: rotazione + scala 1.7 */
    transform: rotate(90deg) scale(1.7);
    transform-origin: center center;
    
    position: relative;
    flex-shrink: 0;
    
    /* Margini negativi estremi */
    margin: -110px auto -240px;
    
    pointer-events: auto;
}

/* CONTRO-ROTAZIONE MAGLIETTE - per mantenerle dritte */
.player-jersey {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 15%;
    cursor: grab;
    user-select: none;
    font-size: clamp(4.5px, 0.6vw, 8px);
    
    /* Prima trasla al centro, poi ruota per annullare la rotazione del campo */
    transform: translate(-50%, -50%) rotate(-90deg);
    
    pointer-events: auto;
    touch-action: none;
}

.player-jersey.dragging {
    opacity: 0.5;
    z-index: 1000;
    cursor: grabbing;
}

/* CONTRO-ROTAZIONE TOKEN (C, VC, palloni, avversari) */
.token {
    position: absolute;
    cursor: grab;
    user-select: none;
    z-index: 10;
    text-align: center;
    
    /* Prima trasla al centro, poi ruota per annullare la rotazione del campo */
    transform: translate(-50%, -50%) rotate(-90deg);
    
    pointer-events: auto;
    touch-action: none;
}

.token.dragging {
    opacity: 0.5;
    z-index: 1000;
    cursor: grabbing;
}

/* ============================================
   NUOVI STRUMENTI - CORRETTI
   ============================================ */

/* X GIALLA - Movimento giocatore - NEL PANNELLO */
.movement-tool {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background-color: transparent;
    color: #fbbf24 !important;  /* Giallo brillante */
    font-size: 40px !important;  /* PiÃ¹ grande per visibilitÃ  */
    font-weight: 900 !important;  /* Molto grassetto */
    line-height: 1;
    cursor: grab;
    user-select: none;
    border: none !important;  /* NESSUN BORDO */
    border-radius: 0;
}

/* X GIALLA - SUL CAMPO - SENZA BORDO */
.token[data-item-type="movement"] {
    width: 28px;
    height: 28px;
    background-color: transparent;
    color: #fbbf24 !important;
    font-size: 26px !important;  /* Grande e visibile */
    font-weight: 900 !important;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none !important;  /* NESSUN BORDO */
    border-radius: 0;
}

.token[data-item-type="movement"]::before {
    content: "âœ•";
    display: block;
}

/* Puntino BLU - NEL PANNELLO */
.opponent-blue-tool {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background-color: #2563eb;  /* Blu */
    color: #2563eb;
    border-radius: 50%;
    font-size: 28px;
    cursor: grab;
    user-select: none;
    border: 2px solid #2563eb;
}

/* Puntino BLU - SUL CAMPO - STESSE DIMENSIONI DEL ROSSO */
.token[data-item-type="opponent-blue"] {
    width: 40px;  /* Uguale al rosso */
    height: 40px;  /* Uguale al rosso */
    background-color: #2563eb;
    border-radius: 50%;
    border: 3px solid white;  /* Bordo bianco come il rosso */
}

/* PUNTINO ROSSO - RIDOTTO ALLE STESSE DIMENSIONI DEL BLU */
.token[data-item-type="opponent"] {
    width: 40px !important;  /* Ridotto da piÃ¹ grande */
    height: 40px !important;
    background-color: var(--primary-red) !important;
    border-radius: 50% !important;
    border: 3px solid white !important;  /* Bordo bianco */
}

/* Freccia BIANCA - NEL PANNELLO */
.arrow-tool {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background-color: transparent;
    color: white;
    font-size: 32px;
    cursor: pointer;  /* Pointer invece di grab */
    user-select: none;
    border: 2px solid white;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.arrow-tool:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.arrow-tool.active {
    background-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* CANVAS per frecce dinamiche */
#arrow-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;  /* Permetti click attraverso il canvas */
    z-index: 5;
}

/* Quando si sta disegnando una freccia */
#field-container.drawing-arrow {
    cursor: crosshair !important;
}

#field-container.drawing-arrow * {
    pointer-events: none !important;  /* Disabilita tutti gli elementi durante il disegno */
}

/* NOTA: La freccia dinamica sarÃ  gestita tramite canvas/SVG nel JavaScript */
/* Per ora rimane come icona trascinabile */

/* PANNELLO LATERALE - Posizione normale (non modificata) */
.available-athletes-container {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    margin-top: 180px;
    position: relative;
}

.available-player {
    cursor: grab;
    pointer-events: auto;
}

.available-player.dragging {
    opacity: 0.5;
    cursor: grabbing;
}

/* CALENDARIO - ABBASSATO (tutto insieme: titolo + contenuto) */
#calendario-section {
    margin-top: 20px !important;
    padding-top: 0 !important;
}

/* Media queries per responsive design */
@media (max-width: 1600px) {
    #field-container {
        width: 410px;
        height: 680px;
        transform: rotate(90deg) scale(1.6);
        margin: 25px auto -95px;
    }
    
    #field-bench-area {
        width: 135px;
        height: 680px;
        transform: rotate(90deg) scale(1.6);
        margin: -95px auto -170px;
    }
    
    #formazione-section {
        margin-top: -20px;
    }
    
    #formazione-section > .row:first-child {
        margin-top: -20px;
    }
    
    .available-athletes-container {
        margin-top: 70px;
    }
    
    #calendario-section {
        margin-top: 70px !important;
    }
}

@media (max-width: 1400px) {
    #field-container {
        width: 400px;
        height: 650px;
        transform: rotate(90deg) scale(1.5);
        margin: 20px auto -85px;
    }
    
    #field-bench-area {
        width: 130px;
        height: 650px;
        transform: rotate(90deg) scale(1.5);
        margin: -85px auto -160px;
    }
    
    #formazione-section {
        margin-top: -18px;
    }
    
    #formazione-section > .row:first-child {
        margin-top: -18px;
    }
    
    .available-athletes-container {
        margin-top: 60px;
    }
    
    #calendario-section {
        margin-top: 60px !important;
    }
}

@media (max-width: 1200px) {
    #field-container {
        width: 380px;
        height: 600px;
        transform: rotate(90deg) scale(1.3);
        margin: 15px auto -75px;
    }
    
    #field-bench-area {
        width: 120px;
        height: 600px;
        transform: rotate(90deg) scale(1.3);
        margin: -75px auto -140px;
    }
    
    #formazione-section {
        margin-top: -15px;
    }
    
    #formazione-section > .row:first-child {
        margin-top: -15px;
    }
    
    .available-athletes-container {
        margin-top: 50px;
    }
    
    #calendario-section {
        margin-top: 50px !important;
    }
}

@media (max-width: 992px) {
    #field-container {
        width: 360px;
        height: 550px;
        transform: rotate(90deg) scale(1.1);
        margin: 10px auto -60px;
    }
    
    #field-bench-area {
        width: 110px;
        height: 550px;
        transform: rotate(90deg) scale(1.1);
        margin: -60px auto -120px;
    }
    
    #formazione-section {
        margin-top: -10px;
    }
    
    #formazione-section > .row:first-child {
        margin-top: -10px;
    }
    
    .available-athletes-container {
        margin-top: 40px;
    }
    
    #calendario-section {
        margin-top: 40px !important;
    }
}

@media (max-width: 768px) {
    /* Su mobile, rimuovi completamente la rotazione per usabilitÃ  */
    #field-container {
        transform: none;
        width: 100%;
        max-width: 350px;
        height: auto;
        aspect-ratio: 5 / 7;
        margin: 15px auto 10px;
    }
    
    #field-bench-area {
        transform: none;
        width: 100%;
        max-width: 350px;
        height: 150px;
        margin: 10px auto 15px;
    }
    
    .player-jersey {
        transform: translate(-50%, -50%);
    }
    
    .token {
        transform: translate(-50%, -50%);
    }
    
    #formazione-section {
        min-height: auto;
        padding: 10px 0;
        margin-top: 0;
    }
    
    #formazione-section > .row:first-child {
        margin-top: 0;
    }
    
    .available-athletes-container {
        margin-top: 20px;
    }
    
    #calendario-section {
        margin-top: 20px !important;
    }
}

/* STAMPA - Mantieni il campo ruotato anche in stampa */
@media print {
    .printing-now #field-container {
        width: 400px !important;
        height: 650px !important;
        transform: rotate(90deg) scale(1.5) !important;
        page-break-inside: avoid;
        margin: 20px auto -85px !important;
    }
    
    .printing-now #field-bench-area {
        width: 130px !important;
        height: 650px !important;
        transform: rotate(90deg) scale(1.5) !important;
        page-break-inside: avoid;
        margin: -85px auto -160px !important;
    }
    
    .printing-now .player-jersey {
        transform: translate(-50%, -50%) rotate(-90deg) !important;
    }
    
    .printing-now .token {
        transform: translate(-50%, -50%) rotate(-90deg) !important;
    }
    
    .printing-now #pitch-wrapper {
        flex-direction: column;
        gap: 0;
        margin: 0 auto;
    }
    
    .printing-now #formazione-section {
        padding: 0;
        margin-top: -20px;
    }
    
    .printing-now #calendario-section {
        margin-top: 50px !important;
    }
}
/* ============================================
   SISTEMA PAGELLE VALUTAZIONE
   ============================================ */

/* Rating Row */
.rating-row {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1rem;
    background-color: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    transition: background-color 0.2s;
}

.rating-row:hover {
    background-color: rgba(255, 255, 255, 0.06);
}

.rating-label {
    flex: 0 0 200px;
    font-weight: 600;
    font-size: 1.05rem;
    margin: 0;
}

/* Stars Container */
.rating-stars {
    display: flex;
    gap: 0.5rem;
    flex: 1;
}

/* Star Style */
.rating-star {
    font-size: 2rem;
    color: #495057;
    cursor: pointer;
    transition: all 0.2s ease;
    user-select: none;
}

.rating-star:hover {
    transform: scale(1.15);
    color: #ffc107;
}

.rating-star.active {
    color: #ffc107;
}

.rating-star.bi-star-fill {
    color: #ffc107;
}

/* Badge con media voto */
.rating-average-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.8rem;
    background: linear-gradient(135deg, #ffc107 0%, #ffb300 100%);
    color: #000;
    border-radius: 6px;
    font-weight: bold;
    font-size: 0.9rem;
}

/* Lista storico pagelle */
.rating-card-mini {
    background: linear-gradient(135deg, var(--card-bg) 0%, rgba(255, 255, 255, 0.05) 100%);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.25rem;
    cursor: pointer;
    transition: all 0.3s ease;
    height: 100%;
}

.rating-card-mini:hover {
    border-color: var(--primary-custom);
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
}

.rating-card-mini .rating-date {
    font-weight: bold;
    color: var(--primary-custom);
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}

.rating-card-mini .rating-coach {
    font-size: 0.9rem;
    color: #adb5bd;
    margin-bottom: 1rem;
    font-style: italic;
}

.rating-card-mini .rating-scores {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    font-size: 0.875rem;
    margin-bottom: 1rem;
}

.rating-card-mini .rating-score-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.rating-card-mini .rating-score-item .score-stars {
    color: #ffc107;
    font-size: 0.9rem;
}

/* Empty state */
.rating-empty-state {
    text-align: center;
    padding: 3rem 1rem;
}

.rating-empty-state i {
    font-size: 4rem;
    color: #6c757d;
    margin-bottom: 1rem;
}

/* Responsive */
@media (max-width: 768px) {
    .rating-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    .rating-label {
        flex: none;
        font-size: 1rem;
    }
    
    .rating-stars {
        width: 100%;
        justify-content: flex-start;
    }
    
    .rating-star {
        font-size: 1.75rem;
    }
    
    .rating-card-mini .rating-scores {
        grid-template-columns: 1fr;
    }
}

/* ===================================================================
   MOBILE RESPONSIVE - Ottimizzazione smartphone
   Tutte le regole qui sotto NON impattano il layout desktop.
   =================================================================== */

/* â”€â”€â”€ LAYOUT GENERALE â”€â”€â”€ */
@media (max-width: 767.98px) {

    /* Padding container piÃ¹ stretto */
    main.container-fluid {
        padding-left: 10px !important;
        padding-right: 10px !important;
    }

    /* Tutte le colonne Bootstrap â†’ full width su mobile */
    .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6,
    .col-lg-7, .col-lg-8, .col-lg-9,
    .col-md-3, .col-md-4, .col-md-6, .col-md-8 {
        width: 100% !important;
        max-width: 100% !important;
        flex: 0 0 100% !important;
    }

    /* Card sempre full width */
    .card, .summary-card, .chart-card, .table-card,
    .calendar-card, .season-stats-card {
        width: 100% !important;
        max-width: 100% !important;
    }

    /* Gutter ridotto */
    .row { --bs-gutter-x: 0.75rem; }

    /* Previeni overflow orizzontale */
    html, body { overflow-x: hidden !important; }
    .container-fluid { overflow-x: hidden; }
}

/* â”€â”€â”€ NAVBAR â”€â”€â”€ */
@media (max-width: 575.98px) {
    .navbar { padding: 6px 10px !important; }
    .navbar-brand { font-size: 0.95rem !important; }
}

/* â”€â”€â”€ TITOLI â”€â”€â”€ */
@media (max-width: 767.98px) {
    .main-title, h2.main-title { font-size: 1.3rem !important; }
    .card-title { font-size: 1rem !important; }
    .display-4 { font-size: 2.2rem !important; }
}

/* â”€â”€â”€ BUTTON GROUP: Wrap su piÃ¹ righe â”€â”€â”€ */
@media (max-width: 767.98px) {
    .btn-group,
    #match-period-toggle,
    #comparison-period-toggle,
    #attendance-period-toggle,
    #weekly-period-toggle,
    #performance-filter-toggle,
    #multi-athlete-type-selector {
        flex-wrap: wrap !important;
        gap: 4px;
    }

    .btn-group .btn,
    #match-period-toggle .btn,
    #comparison-period-toggle .btn,
    #attendance-period-toggle .btn,
    #weekly-period-toggle .btn,
    #performance-filter-toggle .btn,
    #multi-athlete-type-selector .btn {
        font-size: 0.72rem !important;
        padding: 4px 8px !important;
        border-radius: 4px !important;
        flex: 0 0 auto;
    }
}

/* â”€â”€â”€ GRAFICI / CANVAS â”€â”€â”€ */
@media (max-width: 767.98px) {
    canvas {
        width: 100% !important;
        max-width: 100% !important;
        height: auto !important;
        min-height: 220px;
    }

    .chart-card .card-body {
        padding: 12px 8px !important;
    }

    /* Override altezze fisse grafici */
    #attendanceChart,
    #multiAthleteChart,
    #weeklyAttendanceChart {
        max-height: none;
    }
}

/* â”€â”€â”€ TABELLE RESPONSIVE â”€â”€â”€ */
@media (max-width: 767.98px) {
    .table-responsive,
    .card-body .table-responsive {
        max-width: 100vw;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .table { font-size: 0.8rem !important; }
    .table th, .table td {
        padding: 6px 8px !important;
        white-space: nowrap;
    }
}

/* â”€â”€â”€ HOME: Card riepilogo â”€â”€â”€ */
@media (max-width: 767.98px) {
    #home-section .summary-card .card-body {
        text-align: center;
        padding: 16px 12px !important;
    }

    #home-section .d-grid.gap-2 .btn {
        font-size: 0.9rem;
        padding: 10px 12px;
    }

    /* Statistiche stagionali: griglia 2 colonne */
    .season-stats-grid {
        grid-template-columns: 1fr 1fr !important;
        gap: 8px !important;
    }
    .season-stats-grid .stat-item:last-child {
        grid-column: span 2;
        text-align: center;
    }
}

/* â”€â”€â”€ NAVIGAZIONE RAPIDA â”€â”€â”€ */
@media (max-width: 767.98px) {
    .d-flex.flex-wrap.justify-content-center.gap-2 .btn {
        font-size: 0.75rem !important;
        padding: 6px 10px !important;
    }
}

/* â”€â”€â”€ CALENDARIO: giorni piÃ¹ compatti â”€â”€â”€ */
@media (max-width: 767.98px) {
    .calendar-day {
        min-height: 70px;
        padding: 4px;
        font-size: 0.75rem;
    }
    .calendar-session {
        font-size: 0.65rem;
        padding: 2px 3px;
    }
    .calendar-grid {
        gap: 2px;
    }
}

/* â”€â”€â”€ PARTITE: filtri e classifiche â”€â”€â”€ */
@media (max-width: 767.98px) {
    #top-scorers-container,
    #top-assists-container {
        max-height: 250px !important;
        font-size: 0.9rem;
    }

    #match-results-section .d-flex.gap-2.mb-3 {
        flex-direction: column !important;
    }
    #match-results-section .form-select {
        width: 100% !important;
    }
}

/* â”€â”€â”€ CONFRONTO PERFORMANCE SQUADRA â”€â”€â”€ */
@media (max-width: 767.98px) {
    #multi-athlete-chart-container .row.g-3 {
        flex-direction: column !important;
    }
    #multi-athlete-metric-selector {
        width: 100% !important;
    }
    #multi-athlete-datepicker-container {
        width: 100% !important;
        max-width: 100% !important;
    }
}

/* â”€â”€â”€ ANALISI PRESENZE SETTIMANALI â”€â”€â”€ */
@media (max-width: 767.98px) {
    #weekly-attendance-analysis-section .row.g-3 {
        flex-direction: column;
    }
    #weekly-attendance-analysis-section .col-md-3 {
        margin-bottom: 10px;
    }
}

/* â”€â”€â”€ ANALISI ATLETA SINGOLO â”€â”€â”€ */
@media (max-width: 767.98px) {
    #analisi-singolo-section .card.chart-card.p-3 .row {
        flex-direction: column;
    }
    #analisi-singolo-section .col-md-6 {
        margin-bottom: 12px;
    }
}

/* â”€â”€â”€ MONITORAGGIO GPS â”€â”€â”€ */
@media (max-width: 767.98px) {
    #monitoraggio-gps-section .row.align-items-end {
        flex-direction: column;
    }
    #monitoraggio-gps-section .col-md-4,
    #monitoraggio-gps-section .col-md-8 {
        margin-bottom: 10px;
    }
}

/* â”€â”€â”€ REPORT VALUTAZIONI â”€â”€â”€ */
@media (max-width: 767.98px) {
    #report-valutazioni-section .d-flex.justify-content-between {
        flex-direction: column !important;
        gap: 10px;
    }
    #report-valutazioni-section .d-flex.align-items-center.gap-2 {
        flex-wrap: wrap;
    }
    #evaluation-date-picker-2 {
        max-width: 100% !important;
        width: 100% !important;
    }
}

/* â”€â”€â”€ HALL OF FAME â”€â”€â”€ */
@media (max-width: 767.98px) {
    #hall-of-fame-container {
        flex-direction: column !important;
        align-items: stretch !important;
    }
    #hall-of-fame-container > * {
        width: 100% !important;
        max-width: 100% !important;
    }
    .award-card {
        width: 100% !important;
    }
}

/* â”€â”€â”€ FORM / INPUT: Touch-friendly â”€â”€â”€ */
@media (max-width: 767.98px) {
    .form-select, .form-control {
        font-size: 0.9rem !important;
        min-height: 42px;
    }
    .form-label {
        font-size: 0.85rem !important;
    }
}

/* â”€â”€â”€ MODALS: Fullscreen su mobile â”€â”€â”€ */
@media (max-width: 575.98px) {
    .modal-dialog {
        margin: 0 !important;
        max-width: 100% !important;
        width: 100% !important;
        min-height: 100dvh;
    }
    .modal-content {
        border-radius: 0 !important;
        min-height: 100dvh;
    }
    .modal-body {
        -webkit-overflow-scrolling: touch;
    }
}

/* â”€â”€â”€ FOOTER â”€â”€â”€ */
@media (max-width: 575.98px) {
    footer {
        font-size: 0.75rem !important;
        padding: 10px 8px !important;
    }
}

/* â”€â”€â”€ ALERT / NOTIFICHE â”€â”€â”€ */
@media (max-width: 767.98px) {
    #alerts-container .alert {
        font-size: 0.8rem !important;
        padding: 10px 12px !important;
    }
}

/* â”€â”€â”€ ANNATA BADGE â”€â”€â”€ */
@media (max-width: 575.98px) {
    .badge, #annata-badge {
        font-size: 0.75rem !important;
        padding: 4px 8px !important;
    }
}